<style>
#header{
    width: 550px;
}
</style>
<div class="container-shadow" style="width:550px;padding:10px;">
    {{#if isStageOne}}
        <form id="forgotPassword" action="" class="form" method="post" onsubmit="return false">
            <h1>{{t "templates.user.UserRegistrationTemplate.registerYourAccount"}}</h1><br/>
            <div id="step1">
                <fieldset>
                        <table class="group-field">
                            <tr class="field">
                                <td><label for="email" >{{t "common.user.emailAddress"}}</label></td>
                                <td> 
                                    <input type="email" id="email" name="email" value=""  data-validator="required" autofocus data-validator-event="keyup change"/>
                                    <span class="error">x</span>
                                </td>
                            </tr>
                            <tr class="field">
                                <td></td>
                                <td>
                                    <br/>
                                    <input type="submit" id="continue" value="{{t "common.form.submit"}}" class="button inactive" />
                                    <input type="button" value="{{t "common.form.cancel"}}" class="button gray cancelButton"/>
                                </td>
                            </tr>
                        </table>
                </fieldset>
            </div>
            <div id="emailSent" style="display:none">
                {{t "templates.user.UserRegistrationTemplate.emailSent"}}
            </div>
        </form>
    {{else}}
        <form id="registration" action="" class="form" method="post" onsubmit="return false">
            <h1>{{t "templates.user.UserRegistrationTemplate.registerYourAccount"}}</h1><br/>
            <div id="step2">
                <fieldset>
                            <div class="group-field">
                                <table class="group-field-inputs">
                                    <tr class="field">
                                        <td><label for="username">{{t "common.user.username"}}</label></td>
		                                <td> 
                                            <input type="text" id="username" name="username" value=""  autofocus data-validator="required"  data-validator-event="keyup change"/>
                                            <span class="error">x</span>
		                                </td>
                                    </tr>
                                    <tr class="field">
                                        <td><label for="givenname">{{t "common.user.givenName"}}</label></td>
                                        <td> 
                                            <input type="text" id="givenname" name="givenname" value=""  data-validator="required"  data-validator-event="keyup change"/>
                                            <span class="error">x</span>
                                        </td>
                                    </tr>
                                    <tr class="field">
                                        <td><label for="sn">{{t "common.user.familyName"}}</label></td>
                                        <td> 
                                            <input type="text" id="sn" name="sn" value=""  data-validator="required"  data-validator-event="keyup change"/>
                                            <span class="error">x</span>
                                        </td>
                                    </tr>
                                    <tr class="field">
                                        <td><label for="telephonenumber">{{t "common.user.phoneNumber"}}</label></td>
                                        <td> 
                                            <input type="tel" id="telephonenumber" name="telephonenumber" value=""  data-validator="required"  data-validator-event="keyup change"/>
                                            <span class="error">x</span>
                                            <br/><br/>
                                        </td>
                                    </tr>
                                    <tr class="field">
                                        <td><label for="password">{{t "common.user.password"}}</label></td>
                                        <td>
                                            <input type="password" id="password" name="password" value=""  data-validator="minLength" minLength="8"  data-validator-event="keyup change"/>
                                            <div class="field-rule">
                                                <span class="error">x</span> 
                                                <span data-for-validator="minLength">{{t "common.form.validation.atLeast8Characters"}}</span>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr class="field">
                                        <td><label for="passwordConfirm">{{t "common.user.confirmPassword"}}</label></td>
                                        <td> 
                                            <input type="password" id="passwordConfirm" name="passwordConfirm" value="" data-validator="passwordConfirm" data-validator-event="keyup change" />
                                             
                                            <div class="field-rule">
                                                <span class="error">x</span> 
                                                <span data-for-validator="passwordConfirm">{{t "common.form.validation.confirmationMatchesPassword"}}</span>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr class="field">
                                        <td></td>
                                        <td style="padding-top:20px;">
                                            <input type="submit" id="registerButton" value="{{t "common.form.submit"}}" class="button inactive" />
                                            <input type="button" id="cancel" value="{{t "common.form.cancel"}}" class="button gray cancelButton"/>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                </fieldset>
            </div>
            <div id="registerSuccess" style="display:none">
                {{t "config.messages.UserMessages.afterRegistration"}} <a href="#" class="cancelButton">{{t "templates.user.ForgottenPasswordTemplate.proceedToLogin"}}</a>
            </div>
        </form>
    {{/if}}
</div>