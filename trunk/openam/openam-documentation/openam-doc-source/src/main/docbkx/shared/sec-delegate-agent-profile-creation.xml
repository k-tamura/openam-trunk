<?xml version="1.0" encoding="UTF-8"?>

<section xml:id="delegate-agent-profile-creation"
         xmlns='http://docbook.org/ns/docbook' version='5.0' xml:lang='en'
         xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'
         xsi:schemaLocation='http://docbook.org/ns/docbook http://docbook.org/xml/5.0/xsd/docbook.xsd'
         xmlns:xlink='http://www.w3.org/1999/xlink'
         xmlns:xinclude='http://www.w3.org/2001/XInclude'>

 <title>Delegating Agent Profile Creation</title>
 <indexterm>
  <primary>Policy agents</primary>
  <secondary>Creating profiles</secondary>
 </indexterm>

 <para>If you want to create policy agent profiles when installing policy
  agents, then you need the credentials of an OpenAM user who can read and
  write agent profiles.</para>

 <para>You can use the OpenAM administrator account when creating policy agent
  profiles. If however you delegate policy agent installation, then you might
  not want to share OpenAM administrator credentials with everyone who
  installs policy agents.</para>

 <procedure xml:id="create-agent-administrators">
  <para>Follow these steps to create <firstterm>agent administrator</firstterm>
   users for a realm.</para>

  <step>
   <para>In OpenAM console, browse to Access Control &gt; <replaceable>Realm
    Name</replaceable> &gt; Subjects.</para>
  </step>

  <step>
   <para>Under Group click New... and create a group for agent
    administrators.</para>
  </step>

  <step>
   <para>Switch to the Privileges tab for the realm, and click the name of the
    group you created.</para>
  </step>

  <step>
   <para>Select "Read and write access to all configured Agents," and then
    Save your work.</para>
  </step>

  <step>
   <para>Return to the Subjects tab, and under User create as many agent
    administrator users as needed.</para>
  </step>

  <step>
   <para>For each agent administrator user, edit the user profile.</para>
   <para>Under the Group tab of the user profile, add the user to agent
    profile administrator group, and then Save your work.</para>
  </step>

  <step>
   <para>Provide each system administrator who installs policy agents with
    their agent administrator credentials.</para>
   <para>When installing the policy agent with the
    <option>--custom-install</option> option, the system administrator can
    choose the option to create the profile during installation, and then
    provide the agent administrator user name and the path to a read-only
    file containing the agent administrator password. For silent installs,
    you can add the <option>--acceptLicense</option> option to auto-accept the
    software license agreement. </para>
  </step>
 </procedure>
</section>