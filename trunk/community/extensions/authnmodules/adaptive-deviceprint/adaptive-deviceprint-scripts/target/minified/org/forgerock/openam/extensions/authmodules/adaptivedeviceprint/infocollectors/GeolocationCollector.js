define(["org/forgerock/openam/extensions/authmodules/adaptivedeviceprint/AbstractDevicePrintInfoCollector","org/forgerock/openam/extensions/authmodules/adaptivedeviceprint/EventManager","org/forgerock/openam/extensions/authmodules/adaptivedeviceprint/Constants"],function(a,b,c){var d=new a,e;return d.gatherInformation=function(){if(d.position){var a={},b;return a.longitude=d.position.coords.longitude,a.latitude=d.position.coords.latitude,a}return console.log("GeolocationCollector: geolocation not readed"),null},d.getPosition=function(){if(navigator&&navigator.geolocation)navigator.geolocation.getCurrentPosition(function(a){d.position=a,console.log("GeolocationCollector: geolocation readed"),b.sendEvent(c.EVENT_RECOLLECT_DATA)});else return console.error("GeolocationCollector: navigator.geolocation not defined"),null},d.getPosition(),d})