<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>

<!--

-->

<head>

  <meta http-equiv="Content-type" content="text/html; charset=utf-8">
  <!-- ident      "%Z%%M% %I%     %E% SMI" -->

  <title>コア - Sun OpenSSO 8.0 コンソールオンラインヘルプ
  </title>
  <script language="JavaScript1.2">
    linktag = window.parent.frames[0].document.getElementsByTagName('link');
    for (var i = 0; i < linktag.length; i++) {
        if (linktag[i].rel == "stylesheet") {
            var s = "<link rel=" + linktag[i].rel + " type='text/css' href=" + linktag[i].href + " />";
            document.write(s);
        }
    }
  </script>
  <meta name="Copyright" content="Copyright &copy; 2008 by Sun Microsystems, Inc. All Rights Reserved." />

</head>

<body class="HlpBdy">



<a name="service.scserviceprofile.iplanetamauthservice"></a><h4>コア</h4>
<p><a name="indexterm-170"></a>このモジュールは、OpenSSO の認証サービス全般に対してベースとなるものです。特定の認証モジュールインスタンスを使用する前に、このモジュールを登録して設定する必要があります。コアモジュールでは、管理者は、OpenSSO のデフォルト認証モジュールで特に設定されていない値に適用されるデフォルト値を定義できます。コア属性にはグローバル属性とレルム属性があります。属性は次のとおりです。</p>
<ul><li><p><a href="#gcnje">「プラグイン可能な認証モジュールクラス」</a></p></li>
<li><p><a href="#gcnjc">「クライアント用にサポートされている認証モジュール」</a></p></li>
<li><p><a href="#gcnir">「LDAP 接続のプールサイズ」</a></p></li>
<li><p><a href="#gcnkh">「LDAP 接続のデフォルトプールサイズ」</a></p></li>
<li><p><a href="#gcnkq">「ユーザープロファイル」</a></p></li>
<li><p><a href="#gcnks">「管理者認証設定」</a></p></li>
<li><p><a href="#gcnjw">「動的ユーザープロファイル作成のデフォルトロール」</a></p></li>
<li><p><a href="#gcnjn">「持続 Cookie モード」</a></p></li>
<li><p><a href="#gcnke">「Cookie の最大持続時間」</a></p></li>
<li><p><a href="#gcnlc">「エイリアス検索属性名」</a></p></li>
<li><p><a href="#gcnkt">「デフォルト認証ロケール」</a></p></li>
<li><p><a href="#gcnjj">「組織認証設定」</a></p></li>
<li><p><a href="#gcnkl">「ログイン失敗時のロックアウトモード」</a></p></li>
<li><p><a href="#gcnjz">「ログイン失敗が右の回数に達したらロックアウト」</a></p></li>
<li><p><a href="#gcnko">「ログイン失敗回数を加算する間隔」</a></p></li>
<li><p><a href="#gcnkd">「ロックアウト通知を送信する電子メールアドレス」</a></p></li>
<li><p><a href="#gcnkr">「ユーザーに警告を出すまでの失敗回数」</a></p></li>
<li><p><a href="#gcnkc">「ログイン失敗時のロックアウト持続時間」</a></p></li>
<li><p><a href="#gcnjy">「ロックアウト属性名」</a></p></li>
<li><p><a href="#gcnle">「ロックアウト属性値」</a></p></li>
<li><p><a href="#gcnkz">「ログイン成功時に返すデフォルトの URL」</a></p></li>
<li><p><a href="#gcnlf">「ログイン失敗時に返すデフォルトの URL」</a></p></li>
<li><p><a href="#gcnlb">「認証ポストプロセスクラス」</a></p></li>
<li><p><a href="#gcnjl">「ユーザー ID 生成モード」</a></p></li>
<li><p><a href="#gcnjq">「プラグイン可能なユーザー名ジェネレータクラス」</a></p></li>
<li><p><a href="#gcnki">「アイデンティティータイプ」</a></p></li>
<li><p><a href="#gcnlh">「プラグイン可能なユーザー状態イベントクラス」</a></p></li>
<li><p><a href="#gcnjv">「無効な試行をデータストアに格納する」</a></p></li>
<li><p><a href="#gcnjo">「モジュールベースの認証」</a></p></li>
<li><p><a href="#fwbfn">「デフォルト認証レベル」</a></p></li></ul>


<a name="gcnje"></a><h5>プラグイン可能な認証モジュールクラス</h5>
<p>OpenSSO プラットフォーム内で設定され、どのレルムでも利用できる認証モジュールの Java クラスを指定します。AMLoginModule SPI または JAAS LoginModule SPI を実装して、カスタム認証モジュールを記述できます。詳細は、『OpenSSO Developer's Guide』を参照してください。新しいサービスを定義するには、新しい各認証サービスの完全クラス名
(パッケージ名を含む) を指定するテキスト文字列をこのフィールドに入力する必要があります。</p>

<a name="gcnjc"></a><h5>クライアント用にサポートされている認証モジュール</h5>
<p>特定のクライアントでサポートされている認証モジュールのリストを指定します。形式は次のとおりです。</p><p><tt>clientType | module1,module2,module3</tt></p><p>この属性は、クライアントディテクションが有効になっているときに機能します。</p>

<a name="gcnir"></a><h5>LDAP 接続のプールサイズ</h5>
<p>特定の LDAP サーバーおよびポートで使用される最大および最小の接続プールを指定します。この属性は、LDAP およびメンバーシップ認証サービス専用です。形式は次のとおりです。</p><p><tt>host:port:min:max</tt></p>
<hr><p><b>注 &#8211; </b>この接続プールは、<tt>serverconfig.xml</tt> で構成される SDK 接続プールとは異なります。</p>
<hr>


<a name="gcnkh"></a><h5>LDAP 接続のデフォルトプールサイズ</h5>
<p>すべての LDAP 認証モジュール設定で使用されるデフォルトの最小および最大接続プールを指定します。ホストおよびポートのエントリが「LDAP 接続のプールサイズ」属性に存在する場合、LDAP 接続のデフォルトプールサイズの最小値および最大値の設定は使用されません。</p>

<a name="gcnkq"></a><h5>ユーザープロファイル</h5>
<p>このオプションを使用すると、ユーザープロファイルのオプションを指定することができます。オプションは次のとおりです。</p><dl><dt><b>必須</b></dt>
<dd><p>正常に認証されるためには、ユーザーが OpenSSO とともにインストールされた、SSOToken を発行する認証サービス用ローカル Directory Server 内にプロファイルを持っている必要があることを指定します。</p></dd>
<dt><b>動的</b></dt>
<dd><p>認証が成功した場合で、ユーザープロファイルがまだ存在していないときに、認証サービスによってユーザープロファイルを作成することを指定します。作成後、SSOToken が発行されます。ユーザープロファイルは、OpenSSO とともにインストールされたローカル Directory Server 内に作成されます。</p></dd>
<dt><b>ユーザーエイリアスを使用して動的に</b></dt>
<dd><p>認証が成功した場合に、認証サービスによって「ユーザーエイリアスリスト」属性を持ったユーザープロファイルを作成することを指定します。 </p></dd>
<dt><b>無視</b></dt>
<dd><p>認証が成功した場合に、SSOToken を発行する認証サービスに対して、ユーザープロファイルが不要であることを指定します。</p></dd>
</dl>


<a name="ggukq"></a><h5>リモート認証セキュリティー</h5>
<p>これが有効になっている場合は、すべてのリモート認証要求で呼び出し元のアイデンティティーを検証するためにアプリケーションの SSOToken が要求されるため、アプリケーションに関連付けられた有効なユーザー名とパスワードの値が OpenSSO の設定情報に提供されます。</p>

<a name="ggull"></a><h5>ログアウト処理のポストプロセスオブジェクトを保持</h5>
<p>これが有効になっている場合は、ログイン処理中に使用されるポストプロセス認証プラグインのインスタンスが OpenSSO セッションに保存されます。あとでログアウトが起動されると、これらのインスタンスの <tt>onLogout</tt> メソッドが呼び出されます。この属性が有効になっていない場合は、ログイン処理のポストプロセスインスタンスが保存されません。ポストプロセスプラグインの新しいインスタンスは、ログアウトが起動され、<tt>onLogout</tt> メソッドが呼び出されたときに作成されます。 </p>

<a name="gguji"></a><h5>ログアウト処理の認証モジュールオブジェクトを保持</h5>
<p>これが有効になっている場合は、認証処理中に使用される認証モジュールのすべてのインスタンスが OpenSSO セッションに保存されます。あとでログアウトが起動されると、同じインスタンスで logout/destroyModulestate メソッドが呼び出されます。この属性が有効になっていない場合は、ログアウト処理の認証モジュールインスタンスが保存されません。ログアウト時に認証モジュールのメソッドは呼び出されません。</p>

<a name="gcnks"></a><h5>管理者認証設定</h5>
<p>管理者専用の認証サービスを定義します。この属性は、管理者とエンドユーザーの認証モジュールを別々のものにする必要がある場合に使用できます。この属性で設定されたモジュールは、OpenSSO コンソールがアクセスされたときに適用されます。次に例を示します。</p><p><tt><b>http://</tt><i>servername.port/console_deploy_uri</i><tt></b></tt></p>

<a name="gcnjw"></a><h5>動的ユーザープロファイル作成のデフォルトロール</h5>
<p>このフィールドは、動的作成が選択されている場合に、プロファイルがユーザープロファイル機能で作成された新しいユーザーに割り当てるロールを指定します。デフォルト値は存在しません。管理者は、新しいユーザーに割り当てられるロールの DN を指定する必要があります。  </p>
<hr><p><b>注 &#8211; </b>指定するロールは、認証を構成するレルムの下にあることが必要です。このロールは、OpenSSO ロールまたは LDAP ロールにすることができますが、フィルタロールにすることはできません。</p><p>ユーザーに特定のサービスを自動的に割り当てる場合は、ユーザープロファイルの「必要なサービス」属性を設定する必要があります。</p>
<hr>


<a name="gcnjn"></a><h5>持続 Cookie モード</h5>
<p>このオプションは、ユーザーがブラウザを再起動したときに認証セッションに戻れるかどうかを指定します。ユーザーセッションは「持続 Cookie モードを有効」にすれば保持できます。「持続 Cookie モードを有効」にすると、ユーザーセッションは持続 Cookie の期限が切れるか、ユーザーが意図的にログアウトするまで期限切れにはなりません。有効期限は「Cookie の最大持続時間」で指定します。デフォルトでは、「持続 Cookie モード」が無効になっており、認証サービスはメモリーの Cookie だけを使用します。</p>
<hr><p><b>注 &#8211; </b>持続 Cookie は、クライアントがログイン URL の <i>iPSPCookie=yes</i> パラメータを使用して明示的に要求する必要があります。</p>
<hr>


<a name="gcnke"></a><h5>Cookie の最大持続時間</h5>
<p>持続 Cookie の期限が切れるまでの間隔を指定します。この間隔は、ユーザーのセッションの認証が成功したときに始まります。最大値は 2147483647 (秒) です。このフィールドには、最大値よりも小さい任意の整数値を入力できます。</p>

<a name="gcnlc"></a><h5>エイリアス検索属性名</h5>
<p>ユーザー認証が成功したあと、ユーザーのプロファイルを検索します。このフィールドは、最初の LDAP 属性に対する検索で一致するユーザープロファイルを見つけられなかった場合に、次に検索する LDAP 属性を指定します。この属性は主に、認証モジュールから返されたユーザーアイデンティティーがユーザーネーミング属性で指定したものと異なる場合に使用します。たとえば、RADIUS サーバーが <tt>abc1234</tt> を返しても、ユーザー名が <tt>abc</tt> である場合があります。この属性のデフォルト値はありません。</p><p>このフィールドは有効な LDAP 属性をすべて受け入れます (たとえば、cn)。</p>

<a name="gcnkt"></a><h5>デフォルト認証ロケール</h5>
<p>認証サービスが使用するデフォルトの言語サブタイプを指定します。デフォルト値は en_US です。有効な言語サブタイプのリストについては、<a href="supportedlang.html">「サポートされている言語ロケール」</a>を参照してください。  </p><p>別のロケールを使用するには、最初にそのロケールのすべての認証テンプレートを作成する必要があります。次に、それらのテンプレートの新しいディレクトリを作成する必要があります。詳細については、『管理ガイド』の「ログイン URL パラメータ」を参照してください。</p>

<a name="gcnjj"></a><h5>組織認証設定</h5>
<p>組織の認証モジュールを設定します。デフォルトの認証モジュールは LDAP です。</p>

<a name="gcnkl"></a><h5>ログイン失敗時のロックアウトモード</h5>
<p>ユーザーが最初の認証に失敗した場合、2 回目の認証を試行できるかどうかを指定します。この属性を選択すると、ロックアウトが有効になり、ユーザーは 1 回だけ認証を行うことができます。デフォルトでは、ロックアウト機能は無効になっています。この属性は、ロックアウト関連属性および通知属性とともに機能します。</p>

<a name="gcnjz"></a><h5>ログイン失敗が右の回数に達したらロックアウト</h5>
<p>「ログイン失敗時のロックアウト間隔」で定義された時間内に、ユーザーが認証を試みることができる回数を定義します。この回数を超えると、ユーザーはロックアウトされます。</p>

<a name="gcnko"></a><h5>ログイン失敗回数を加算する間隔</h5>
<p>ログイン失敗回数を加算する時間を分単位で指定します。指定した時間内にログインに失敗した数だけ、失敗の回数が加算されていきます。そうでない場合は、ロックアウト回数がリセットされます。</p>

<a name="gcnkd"></a><h5>ロックアウト通知を送信する電子メールアドレス</h5>
<p>ユーザーのロックアウトが発生した場合に通知を受け取る電子メールアドレスを指定します。複数の電子メールアドレスに通知を送信する場合、スペースで各アドレスを区切ります。英語以外のロケールの場合の形式は次のとおりです。</p><p><tt>email_address|locale|charset</tt> </p>

<a name="gcnkr"></a><h5>ユーザーに警告を出すまでの失敗回数</h5>
<p>認証の失敗回数がここで定義した値に達すると、OpenSSO は次に失敗するとそのユーザーがロックアウトされるという警告メッセージを発信します。</p>

<a name="gcnkc"></a><h5>ログイン失敗時のロックアウト持続時間</h5>
<p>メモリーロックを有効にします。デフォルトでは、ロックアウトのメカニズムによって、「ロックアウト属性名」で定義されたユーザープロファイルが無効になります (ログインの失敗後)。<i></i>ログイン失敗時のロックアウト持続時間の値が 0 より大きい場合、メモリーロックとユーザーアカウントは指定された時間 (分) の間ロックされます。</p>

<a name="ggulj"></a><h5>ロックアウト持続時間の乗数値</h5>
<p>この属性は、連続したロックアウトのたびにログイン失敗時のロックアウト持続時間に乗算される値を定義します。たとえば、ログイン失敗時のロックアウト持続時間が 3 分に設定され、ロックアウト持続時間の乗数値が 2 に設定されている場合、ユーザーはアカウントから 6 分間ロックアウトされます。</p>

<a name="gcnjy"></a><h5>ロックアウト属性名</h5>
<p>ロックアウトで設定される LDAP 属性を指定します。この属性に対するロックアウトが有効になるように「ロックアウト属性値」の値を変更する必要があります。デフォルトでは、OpenSSO コンソールのロックアウト属性名は空です。ユーザーがロックアウトされたときに、「ログイン失敗時のロックアウト持続時間」が 0 に設定されている場合、デフォルトの実装では、LDAP 属性 <i>inetuserstatus</i> に対して <i>inactive</i> が設定されるようになっています。</p>

<a name="gcnle"></a><h5>ロックアウト属性値</h5>
<p>ここでは、「ロックアウト属性名」で定義された属性に対してロックアウトを有効にするか無効にするかを指定します。デフォルトの実装では、LDAP 属性 <i>inetuserstatus</i> に対して inactive が設定されるようになっています。</p>

<a name="gcnkz"></a><h5>ログイン成功時に返すデフォルトの URL</h5>
<p>このフィールドは、認証の成功後にユーザーをリダイレクトする URL を指定する複数の値のリストを受け付けます。HTML のデフォルトタイプとなっている URL の値だけを指定できますが、この属性の形式は <tt>clientType|URL</tt> です。デフォルト値は <i>/amserver/console</i> です。</p>

<a name="gcnlf"></a><h5>ログイン失敗時に返すデフォルトの URL</h5>
<p>このフィールドは、認証の失敗後にユーザーをリダイレクトする URL を指定する複数の値のリストを受け付けます。HTML のデフォルトタイプとなっている URL の値だけを指定できますが、この属性の形式は <tt>clientType|URL</tt> です。</p>

<a name="gcnlb"></a><h5>認証ポストプロセスクラス</h5>
<p>ログインの成功または失敗後に実行する認証後プロセスをカスタマイズするための Java クラス名を指定します。次に例を示します。</p><p><tt>com.abc.authentication.PostProcessClass</tt> </p><p>Java クラスは次の Java インタフェースを実装する必要があります。</p><p><tt>com.sun.identity.authentication.spi.AMPostAuthProcessInterface </tt></p><p>さらに、クラスの場所を示すパスを Web サーバーの Java Classpath 属性に追加する必要があります。</p>

<a name="gcnjl"></a><h5>ユーザー ID 生成モード</h5>
<p>この属性は、メンバーシップ認証モジュールによって使用されます。この属性フィールドが有効になっている場合、すでにユーザー ID が存在していれば、自己登録プロセス中にメンバーシップモジュールによって特定ユーザーのユーザー ID が生成可能です。このユーザー ID は、「プラグイン可能なユーザー名ジェネレータクラス」で指定された Java クラスから生成されます。</p>

<a name="gcnjq"></a><h5>プラグイン可能なユーザー名ジェネレータクラス</h5>
<p>「ユーザー ID 生成モード」が有効になっている場合にユーザー ID を生成するための Java クラス名を指定します。</p>

<a name="gcnki"></a><h5>アイデンティティータイプ</h5>
<p>OpenSSO の検索対象となるアイデンティティーのタイプを一覧表示します。</p>

<a name="gcnlh"></a><h5>プラグイン可能なユーザー状態イベントクラス</h5>
<p>認証 SPI を拡張することで、認証プロセス中に発生したユーザーの状態変化に対するコールバックメカニズムを提供します。サポートされている状態変化は、次のとおりです。</p><dl><dt><tt>account lockout</tt></dt>
<dd><p>アカウントロックアウトイベントは、任意の認証モジュールで利用できます。この機能は、<a href="#gcnkl">「ログイン失敗時のロックアウトモード」</a>属性を使って設定できます。</p></dd>
<dt><tt>password change</tt></dt>
<dd><p>LDAP 認証モジュールタイプ経由でしか利用できません。これは、パスワード変更機能を利用できるのは、そのモジュールだけであるからです。</p></dd>
</dl>


<a name="gcnjv"></a><h5>無効な試行をデータストアに格納する</h5>
<p>この属性を有効にすると、失敗したログイン試行の情報を、複数の OpenSSO インスタンスが共有するアイデンティティーリポジトリで共有できるようになります。たとえば、特定の配備に対して使用されるアイデンティティーリポジトリが Directory Server である場合、無効な試行は <tt>sunAMAuthInvalidAttemptsData</tt> に格納されます (これは <tt>sunAMAuthAccountLockout</tt> オブジェクトクラスに属する)。データは次のような形式で格納されます。</p><p><tt>&#60;InvalidPassword&#62;&#60;InvalidCount&#62;&#60;/InvalidCount&#62;&#60;LastInvalidAt&#62;&#60;/LastInvalidAt&#62;&#60;LockedoutAt&#62;&#60;/LockedoutAt&#62;&#60;ActualLockoutDuration&#62;&#60;/ActualLockoutDuration&#62;&#60;/InvalidPassword&#62; </tt></p><p>この情報は各ユーザーに対して Directory Server で維持されます。無効な試行が発生するたびに、<tt>&#60;InvalidCount&#62;</tt> が増加します。</p>

<a name="gcnjo"></a><h5>モジュールベースの認証</h5>
<p>この属性を有効にすると、ユーザーがモジュールベースの認証を通じて認証できるようになります。この属性が有効でない場合、モジュールベースのログインは許可されません。<tt>module=&#60;</tt><i>module_instance_name</i><tt>&#62;</tt> によるすべてのログイン試行は、ログイン失敗の結果になります。</p>

<a name="ggurt"></a><h5>セッション属性へのユーザー属性のマッピング</h5>
<p>これにより、(データストアに保存されている) 認証ユーザープロファイルからユーザーの SSOToken へのセッションプロパティーとして属性を設定できます。形式は次のとおりです。</p><p><tt>UserProfile_Attribute|Session_Attribute_name</tt></p><p><tt>Session_Attribute_name</tt> が指定されていない場合は、セッションのプロパティー名がユーザープロファイル属性の値として取得されます。すべてのセッション属性には、クライアント SDK から編集できないようにするための am.<tt>protected</tt> プレフィックスが含まれています。</p>

<a name="fwbfn"></a><h5>デフォルト認証レベル</h5>
<p>認証レベルの値は、認証の信頼度を示します。ユーザーが認証を受けると、この値がセッションの SSO トークンに格納されます。ユーザーがアクセスを望むアプリケーションに SSO トークンが提供されると、そのアプリケーションは格納されている値を使用して、ユーザーにアクセスを許可するのに十分なレベルかどうかを判別できます。SSO トークンに格納されている認証レベルが必要な最小値に満たない場合、アプリケーションはユーザーにより高い認証レベルのサービスで認証を再度受けるよう要求することがあります。</p><p>認証レベルは、レルムの特定の認証テンプレート内で設定する必要があります。ここで説明する「デフォルト認証レベル」の値は、特定のレルムの認証テンプレートの「認証レベル」フィールドに認証レベルが指定されていない場合だけ適用されます。デフォルト認証レベルのデフォルト値は 0 です。この属性の値は OpenSSO が使用するものではなく、どの外部アプリケーションでもその値の使用を選択すれば使用できます。</p>
<br/>

</body>
</html>
