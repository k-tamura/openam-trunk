<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.4.2_05) on Thu Jan 11 14:55:36 PST 2007 -->
<TITLE>
AMLoginModule (Sun Java System Access Manager 7.1 API)
</TITLE>

<META NAME="keywords" CONTENT="com.sun.identity.authentication.spi.AMLoginModule class">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="AMLoginModule (Sun Java System Access Manager 7.1 API)";
}
</SCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;<A HREF="../../../../../com/sun/identity/authentication/spi/HttpCallback.html" title="class in com.sun.identity.authentication.spi"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="AMLoginModule.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>

</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.sun.identity.authentication.spi</FONT>
<BR>
Class AMLoginModule</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../../resources/inherit.gif" ALT="extended by"><B>com.sun.identity.authentication.spi.AMLoginModule</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD>javax.security.auth.spi.LoginModule</DD>
</DL>
<HR>
<DL>
<DT>public abstract class <B>AMLoginModule</B><DT>extends java.lang.Object<DT>implements javax.security.auth.spi.LoginModule</DL>

<P>
An abstract class which implements JAAS LoginModule, it provides
 methods to access Java System Access Manager services and the module
 xml configuration.
 <p>
 Because it is an abstract class, Login Module writers must subclass
 and implement init(), process(), getPrincipal() methods.
 <p>
 The Callback[] for the Login Module is dynamically generated based
 on the xml module configuration. The module configuration file name
 must be the same as the name of the class (no package name) and have the
 extension .xml.
 <p>
 Here is a sample module configuration file:
 <pre>
 &lt;ModuleProperties moduleClass="LDAP" version="1.0" &gt;
     &lt;Callbacks length="2" order="1" timeout="60" header="LDAP
     Authentication" &gt;
         &lt;NameCallback&gt;
             &lt;Prompt&gt; Enter UserId &lt;/Prompt&gt;
         &lt;/NameCallback&gt;
         &lt;PasswordCallback echoPassword="false" &gt;
             &lt;Prompt&gt; Enter Password &lt;/Prompt&gt;
         &lt;/PasswordCallback&gt;
     &lt;/Callbacks&gt;
     &lt;Callbacks length="3" order="2" timeout="120" header="Password
     Expiring Please Change" &gt;
         &lt;PasswordCallback echoPassword="false" &gt;
             &lt;Prompt&gt; Enter Current Password &lt;/Prompt&gt;
         &lt;/PasswordCallback&gt;
         &lt;PasswordCallback echoPassword="false" &gt;
             &lt;Prompt&gt; Enter New Password &lt;/Prompt&gt;
         &lt;/PasswordCallback&gt;
         &lt;PasswordCallback echoPassword="false" &gt;
             &lt;Prompt&gt; Confirm New Password &lt;/Prompt&gt;
         &lt;/PasswordCallback&gt;
     &lt;/Callbacks&gt;
 &lt;/ModuleProperties&gt;
 </pre>
 Each Callbacks Element corresponds to one login state.
 When an authentication process is invoked, there will be Callback[]
 generated from user's Login Module for each state. All login state
 starts with 1, then module controls the login process, and decides what's
 the next state to go in the process() method.
 <p>
 In the sample module configuration shown above, state one has
 three Callbacks, Callback[0] is for module information, Callback[1] is
 for user ID, Callback[2] is for user password. When the user fills in the
 Callbacks, those Callback[] will be sent to the process() method, where
 the module writer gets the submitted Callbacks, validates them and returns.
 If user's password is expiring, the module writer will set the next
 state to 2. State two has four Callbacks to request user to change
 password. The process() routine is again
 called after user submits the Callback[]. If the module writer throws an
 LoginException, an 'authentication failed' page will be sent to the user.
 If no exception is thrown, the user will be redirected to their default
 page.
 <p>
 The optional 'timeout' attribute in each state is used to ensure that the
 user responds in a timely manner. If the time between sending the Callbacks
 and getting response is greater than the timeout, a timeout page will be
 sent.
 <p>
 There are also optional 'html' and 'image' attribute in each state. The
 'html' attribute allows the module writer to use a custom HTML
 page for the Login UI. The 'image' attribute allows the writer to display
 a custom background image on each page.
 <p>
 When multiple states are available to the user, the Callback array from a
 previous state may be retrieved by using the <code>getCallbak(int)</code>
 methods. The underlying login module keeps the Callback[] from the previous
 states until the login process is completed.
 <p>
 If a module writer need to substitute dynamic text in next state, the writer
 could use the <code>getCallback()</code> method to get the Callback[] for the
 next state, modify the output text or prompt, then call
 <code>replaceCallback()</code> to update the Callback array. This allows a
 module writer to dynamically generate challenges, passwords or user IDs.
 <p>
 Each authentication session will create a new instance of your
 Login Module Java class. The reference to the class will be
 released once the authentication session has either succeeded
 or failed. It is important to note that any static data or
 reference to any static data in your Login module
 must be thread-safe.
 <p>

 For a complete sample, please refer to
 &lt;install_root&gt;/SUNWam/samples/authentication/providers
<P>

<P>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->


<!-- =========== FIELD SUMMARY =========== -->


<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#AMLoginModule()">AMLoginModule</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Method Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#destroyModuleState()">destroyModuleState</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method should be overridden by each login module
 to destroy dispensable state fields.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#getAttribute(int, int)">getAttribute</A></B>(int&nbsp;state,
             int&nbsp;index)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the attribute name for the specified callback in the
 specified login state</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#getAuthLevel()">getAuthLevel</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get authentication level.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;javax.security.auth.callback.Callback[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#getCallback(int)">getCallback</A></B>(int&nbsp;index)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return a Callback array for a specific state.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#getCurrentState()">getCurrentState</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the current state in the authentication process.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;javax.servlet.http.HttpServletRequest</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#getHttpServletRequest()">getHttpServletRequest</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the <code>HttpServletRequest</code> object that
 initiated the call to this module.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;javax.servlet.http.HttpServletResponse</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#getHttpServletResponse()">getHttpServletResponse</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the <code>HttpServletResponse</code> object for the servlet
 request that initiated the call to this module.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#getLocale()">getLocale</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the locale for this authentication session.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Set</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#getNewUserIDs(java.util.Map, int)">getNewUserIDs</A></B>(java.util.Map&nbsp;attributes,
              int&nbsp;num)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a set of user IDs generated from the class defined
 in the Core Authentication Service.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#getNumberOfStates()">getNumberOfStates</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the number of authentication states for this
 login module.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Map</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#getOrgProfile(java.lang.String)">getOrgProfile</A></B>(java.lang.String&nbsp;orgDN)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the organization attributes for specified organization.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Map</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#getOrgServiceTemplate(java.lang.String, java.lang.String)">getOrgServiceTemplate</A></B>(java.lang.String&nbsp;orgDN,
                      java.lang.String&nbsp;serviceName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets service template attributes defined for the specified organization.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#getPersistentCookieOn()">getPersistentCookieOn</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Checks if persistent cookie is on or off.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;java.security.Principal</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#getPrincipal()">getPrincipal</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Abstract method must be implemeted by each login module to
 get the user Principal</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#getRequestOrg()">getRequestOrg</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the organization DN for this authentication session.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Map</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#getServiceConfig(java.lang.String)">getServiceConfig</A></B>(java.lang.String&nbsp;name)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns service configuration attributes.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#getSessionId()">getSessionId</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a unique key for this authentication session.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../com/iplanet/sso/SSOToken.html" title="interface in com.iplanet.sso">SSOToken</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#getSSOSession()">getSSOSession</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the authentication SSO session</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../com/iplanet/am/sdk/AMUser.html" title="interface in com.iplanet.am.sdk">AMUser</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#getUserProfile(java.lang.String)">getUserProfile</A></B>(java.lang.String&nbsp;userDN)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>Deprecated.</B>&nbsp;<I>This method has been deprecated. Please use the
 IdRepo API's to get the AMIdentity object for the user. More
 information on how to use the Identity Repository APIs is
 available in the Access Manager Developer's Guide.</I></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#getUserSessionProperty(java.lang.String)">getUserSessionProperty</A></B>(java.lang.String&nbsp;name)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the property from the user session.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#init(javax.security.auth.Subject, java.util.Map, java.util.Map)">init</A></B>(javax.security.auth.Subject&nbsp;subject,
     java.util.Map&nbsp;sharedState,
     java.util.Map&nbsp;options)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize this LoginModule.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#isRequired(int, int)">isRequired</A></B>(int&nbsp;state,
           int&nbsp;index)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Check if a Callback is required to have input</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#process(javax.security.auth.callback.Callback[], int)">process</A></B>(javax.security.auth.callback.Callback[]&nbsp;callbacks,
        int&nbsp;state)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Abstract method must be implemented by each login module to
 control the flow of the login process.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#replaceCallback(int, int, javax.security.auth.callback.Callback)">replaceCallback</A></B>(int&nbsp;state,
                int&nbsp;index,
                javax.security.auth.callback.Callback&nbsp;callback)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Replace Callback object for a specific state.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#resetCallback(int, int)">resetCallback</A></B>(int&nbsp;state,
              int&nbsp;index)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reset a Callback instance to the original Callback for the specified
 state and the specified index.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#setAuthLevel(int)">setAuthLevel</A></B>(int&nbsp;auth_level)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set the <code>AuthLevel</code> for this session.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#setFailureID(java.lang.String)">setFailureID</A></B>(java.lang.String&nbsp;userID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the <code>userID</code> of user who failed authentication.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#setLoginFailureURL(java.lang.String)">setLoginFailureURL</A></B>(java.lang.String&nbsp;url)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the the login failure URL for the user.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#setLoginSuccessURL(java.lang.String)">setLoginSuccessURL</A></B>(java.lang.String&nbsp;url)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the the login successful URL for the user.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#setPersistentCookieOn()">setPersistentCookieOn</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Attempts to set the Persistent Cookie for this session.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#setUserAttributes(java.util.Map)">setUserAttributes</A></B>(java.util.Map&nbsp;attributeValuePairs)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets a Map of attribute value pairs to be used when the authentication
 service is configured to dynamically create a user.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#setUserSessionProperty(java.lang.String, java.lang.String)">setUserSessionProperty</A></B>(java.lang.String&nbsp;name,
                       java.lang.String&nbsp;value)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets a property in the user session.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#validatePassword(java.lang.String)">validatePassword</A></B>(java.lang.String&nbsp;userPassword)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method will use validation plugin if exists to validate
 password</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/identity/authentication/spi/AMLoginModule.html#validateUserName(java.lang.String, java.lang.String)">validateUserName</A></B>(java.lang.String&nbsp;userName,
                 java.lang.String&nbsp;regEx)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method will use validation plugin if exists
 else it checks invalid characters in the source string</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class java.lang.Object</B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_javax.security.auth.spi.LoginModule"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from interface javax.security.auth.spi.LoginModule</B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>abort, commit, initialize, login, logout</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->


<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="AMLoginModule()"><!-- --></A><H3>
AMLoginModule</H3>
<PRE>
public <B>AMLoginModule</B>()</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Method Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="getSSOSession()"><!-- --></A><H3>
getSSOSession</H3>
<PRE>
public <A HREF="../../../../../com/iplanet/sso/SSOToken.html" title="interface in com.iplanet.sso">SSOToken</A> <B>getSSOSession</B>()
                       throws <A HREF="../../../../../com/sun/identity/authentication/spi/AuthLoginException.html" title="class in com.sun.identity.authentication.spi">AuthLoginException</A></PRE>
<DL>
<DD>Get the authentication SSO session
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>single sign on token for the authentication service
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../com/sun/identity/authentication/spi/AuthLoginException.html" title="class in com.sun.identity.authentication.spi">AuthLoginException</A></CODE> - if the authentication SSO session is null.</DL>
</DD>
</DL>
<HR>

<A NAME="getCallback(int)"><!-- --></A><H3>
getCallback</H3>
<PRE>
public javax.security.auth.callback.Callback[] <B>getCallback</B>(int&nbsp;index)
                                                    throws <A HREF="../../../../../com/sun/identity/authentication/spi/AuthLoginException.html" title="class in com.sun.identity.authentication.spi">AuthLoginException</A></PRE>
<DL>
<DD>Return a Callback array for a specific state.
 <p>
 This method can be used to retrieve Callback[] for any state. All
 previous submitted Callback[] information are kept until the login
 process is completed.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>index</CODE> - order of state
<DT><B>Returns:</B><DD>Callback array for this state, return 0-length Callback array
     if there is no Callback defined for this state
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../com/sun/identity/authentication/spi/AuthLoginException.html" title="class in com.sun.identity.authentication.spi">AuthLoginException</A></CODE> - if unable to read the callbacks</DL>
</DD>
</DL>
<HR>

<A NAME="replaceCallback(int, int, javax.security.auth.callback.Callback)"><!-- --></A><H3>
replaceCallback</H3>
<PRE>
public void <B>replaceCallback</B>(int&nbsp;state,
                            int&nbsp;index,
                            javax.security.auth.callback.Callback&nbsp;callback)
                     throws <A HREF="../../../../../com/sun/identity/authentication/spi/AuthLoginException.html" title="class in com.sun.identity.authentication.spi">AuthLoginException</A></PRE>
<DL>
<DD>Replace Callback object for a specific state.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>state</CODE> - Order of login state<DD><CODE>index</CODE> - Index of Callback in the Callback array to be replaced
      for the specified state. Here index starts with 0, i.e. 0 means the
      first Callback in the Callback[], 1 means the second callback.<DD><CODE>callback</CODE> - Callback instance to be replaced
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../com/sun/identity/authentication/spi/AuthLoginException.html" title="class in com.sun.identity.authentication.spi">AuthLoginException</A></CODE> - if state or index is out of bound, or callback
     instance is null.</DL>
</DD>
</DL>
<HR>

<A NAME="resetCallback(int, int)"><!-- --></A><H3>
resetCallback</H3>
<PRE>
public void <B>resetCallback</B>(int&nbsp;state,
                          int&nbsp;index)
                   throws <A HREF="../../../../../com/sun/identity/authentication/spi/AuthLoginException.html" title="class in com.sun.identity.authentication.spi">AuthLoginException</A></PRE>
<DL>
<DD>Reset a Callback instance to the original Callback for the specified
 state and the specified index. This will override change to the Callback
 instance by the <code>replaceCallback()</code> method.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>state</CODE> - state in which the Callback[] to be reset<DD><CODE>index</CODE> - order of the Callback in the Callback[], index starts
        with 0, i.e. 0 means first callback instance, 1 means
        the second callback instance.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../com/sun/identity/authentication/spi/AuthLoginException.html" title="class in com.sun.identity.authentication.spi">AuthLoginException</A></CODE> - if state or index is out of bound.</DL>
</DD>
</DL>
<HR>

<A NAME="init(javax.security.auth.Subject, java.util.Map, java.util.Map)"><!-- --></A><H3>
init</H3>
<PRE>
public abstract void <B>init</B>(javax.security.auth.Subject&nbsp;subject,
                          java.util.Map&nbsp;sharedState,
                          java.util.Map&nbsp;options)</PRE>
<DL>
<DD>Initialize this LoginModule.
 <p>
 This is an abstract method, must be implemented by user's Login Module
 to initialize this LoginModule with the relevant information. If this
 LoginModule does not understand any of the data stored in sharedState
 or options parameters, they can be ignored.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>subject</CODE> - - the Subject to be authenticated.<DD><CODE>sharedState</CODE> - - state shared with other configured LoginModules.<DD><CODE>options</CODE> - - options specified in the login Configuration for this
     particular LoginModule. It contains all the global and organization
     attribute configuration for this module. The key of the map is the
     attribute name (e.g. <code>iplanet-am-auth-ldap-server</code>) as
     String, the value is the value of the corresponding attribute as Set.</DL>
</DD>
</DL>
<HR>

<A NAME="process(javax.security.auth.callback.Callback[], int)"><!-- --></A><H3>
process</H3>
<PRE>
public abstract int <B>process</B>(javax.security.auth.callback.Callback[]&nbsp;callbacks,
                            int&nbsp;state)
                     throws javax.security.auth.login.LoginException</PRE>
<DL>
<DD>Abstract method must be implemented by each login module to
 control the flow of the login process.
 <p>
 This method takes an array of sbumitted
 Callback, process them and decide the order of next state to go.
 Return -1 if the login is successful, return 0 if the
 LoginModule should be ignored.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>callbacks</CODE> - Callback[] for this Login state<DD><CODE>state</CODE> - Order of state. State order starts with 1.
<DT><B>Returns:</B><DD>order of next state.  return -1 if authentication
     is successful, return 0 if the LoginModule should be ignored.
<DT><B>Throws:</B>
<DD><CODE>javax.security.auth.login.LoginException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getPrincipal()"><!-- --></A><H3>
getPrincipal</H3>
<PRE>
public abstract java.security.Principal <B>getPrincipal</B>()</PRE>
<DL>
<DD>Abstract method must be implemeted by each login module to
 get the user Principal
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>Principal</DL>
</DD>
</DL>
<HR>

<A NAME="destroyModuleState()"><!-- --></A><H3>
destroyModuleState</H3>
<PRE>
public void <B>destroyModuleState</B>()</PRE>
<DL>
<DD>This method should be overridden by each login module
 to destroy dispensable state fields.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getAuthLevel()"><!-- --></A><H3>
getAuthLevel</H3>
<PRE>
public int <B>getAuthLevel</B>()</PRE>
<DL>
<DD>Get authentication level.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>authentication level of this authentication session</DL>
</DD>
</DL>
<HR>

<A NAME="setAuthLevel(int)"><!-- --></A><H3>
setAuthLevel</H3>
<PRE>
public boolean <B>setAuthLevel</B>(int&nbsp;auth_level)</PRE>
<DL>
<DD>Set the <code>AuthLevel</code> for this session.
 The authentication level being set cannot be downgraded
 below that set by the module configuration.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>auth_level</CODE> - authentication level string to be set
<DT><B>Returns:</B><DD>true if setting is successful, false otherwise</DL>
</DD>
</DL>
<HR>

<A NAME="getCurrentState()"><!-- --></A><H3>
getCurrentState</H3>
<PRE>
public int <B>getCurrentState</B>()</PRE>
<DL>
<DD>Returns the current state in the authentication process.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the current state in the authentication process.</DL>
</DD>
</DL>
<HR>

<A NAME="getHttpServletRequest()"><!-- --></A><H3>
getHttpServletRequest</H3>
<PRE>
public javax.servlet.http.HttpServletRequest <B>getHttpServletRequest</B>()</PRE>
<DL>
<DD>Returns the <code>HttpServletRequest</code> object that
 initiated the call to this module.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD><code>HttpServletRequest</code> for this request, returns null
         if the <code>HttpServletRequest</code> object could not be
         obtained.</DL>
</DD>
</DL>
<HR>

<A NAME="getHttpServletResponse()"><!-- --></A><H3>
getHttpServletResponse</H3>
<PRE>
public javax.servlet.http.HttpServletResponse <B>getHttpServletResponse</B>()</PRE>
<DL>
<DD>Returns the <code>HttpServletResponse</code> object for the servlet
 request that initiated the call to this module. The servlet response
 object will be the response to the <code>HttpServletRequest</code>
 received by the authentication module.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD><code>HttpServletResponse</code> for this request, returns null
 if the <code>HttpServletResponse</code> object could not be obtained.</DL>
</DD>
</DL>
<HR>

<A NAME="getLocale()"><!-- --></A><H3>
getLocale</H3>
<PRE>
public java.lang.String <B>getLocale</B>()
                           throws <A HREF="../../../../../com/sun/identity/authentication/spi/AuthLoginException.html" title="class in com.sun.identity.authentication.spi">AuthLoginException</A></PRE>
<DL>
<DD>Gets the locale for this authentication session.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD><code>java.util.Locale</code> locale for this authentication
         session.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../com/sun/identity/authentication/spi/AuthLoginException.html" title="class in com.sun.identity.authentication.spi">AuthLoginException</A></CODE> - if problem in accessing the locale.</DL>
</DD>
</DL>
<HR>

<A NAME="getNumberOfStates()"><!-- --></A><H3>
getNumberOfStates</H3>
<PRE>
public int <B>getNumberOfStates</B>()</PRE>
<DL>
<DD>Returns the number of authentication states for this
 login module.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the number of authentication states for this login module.</DL>
</DD>
</DL>
<HR>

<A NAME="getRequestOrg()"><!-- --></A><H3>
getRequestOrg</H3>
<PRE>
public java.lang.String <B>getRequestOrg</B>()</PRE>
<DL>
<DD>Returns the organization DN for this authentication session.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>organization DN.</DL>
</DD>
</DL>
<HR>

<A NAME="getSessionId()"><!-- --></A><H3>
getSessionId</H3>
<PRE>
public java.lang.String <B>getSessionId</B>()</PRE>
<DL>
<DD>Returns a unique key for this authentication session.
 This key will be unique throughout an entire Web browser session.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>String return null is unable to get the key</DL>
</DD>
</DL>
<HR>

<A NAME="getOrgProfile(java.lang.String)"><!-- --></A><H3>
getOrgProfile</H3>
<PRE>
public java.util.Map <B>getOrgProfile</B>(java.lang.String&nbsp;orgDN)
                            throws <A HREF="../../../../../com/sun/identity/authentication/spi/AuthLoginException.html" title="class in com.sun.identity.authentication.spi">AuthLoginException</A></PRE>
<DL>
<DD>Returns the organization attributes for specified organization.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>orgDN</CODE> - Requested organization DN
<DT><B>Returns:</B><DD>Map that contains all attribute key/value pairs defined
         in the organization.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../com/sun/identity/authentication/spi/AuthLoginException.html" title="class in com.sun.identity.authentication.spi">AuthLoginException</A></CODE> - if cannot get organization profile</DL>
</DD>
</DL>
<HR>

<A NAME="getOrgServiceTemplate(java.lang.String, java.lang.String)"><!-- --></A><H3>
getOrgServiceTemplate</H3>
<PRE>
public java.util.Map <B>getOrgServiceTemplate</B>(java.lang.String&nbsp;orgDN,
                                           java.lang.String&nbsp;serviceName)
                                    throws <A HREF="../../../../../com/sun/identity/authentication/spi/AuthLoginException.html" title="class in com.sun.identity.authentication.spi">AuthLoginException</A></PRE>
<DL>
<DD>Gets service template attributes defined for the specified organization.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>orgDN</CODE> - Organization DN<DD><CODE>serviceName</CODE> - Requested service name
<DT><B>Returns:</B><DD>Map that contains all attribute key/value pairs defined in the
         organization service template.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../com/sun/identity/authentication/spi/AuthLoginException.html" title="class in com.sun.identity.authentication.spi">AuthLoginException</A></CODE> - if cannot get organization service
         template</DL>
</DD>
</DL>
<HR>

<A NAME="getPersistentCookieOn()"><!-- --></A><H3>
getPersistentCookieOn</H3>
<PRE>
public boolean <B>getPersistentCookieOn</B>()</PRE>
<DL>
<DD>Checks if persistent cookie is on or off.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>true if persistent cookie is set, false otherwise</DL>
</DD>
</DL>
<HR>

<A NAME="setPersistentCookieOn()"><!-- --></A><H3>
setPersistentCookieOn</H3>
<PRE>
public boolean <B>setPersistentCookieOn</B>()</PRE>
<DL>
<DD>Attempts to set the Persistent Cookie for this session.  Can be called
  from any state in the authentication module.  It will return whether
 "Core Authentication" will add the persistent cookie (name is specified
  in the <code>/etc/opt/SUNWam/config/AMConfig.properties</code>:
  <code>com.iplanet.am.pcookie.name</code> property)
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>true when setting is successful, false if the persistent cookie
  mode attribute is not set for the organization</DL>
</DD>
</DL>
<HR>

<A NAME="getServiceConfig(java.lang.String)"><!-- --></A><H3>
getServiceConfig</H3>
<PRE>
public java.util.Map <B>getServiceConfig</B>(java.lang.String&nbsp;name)
                               throws <A HREF="../../../../../com/sun/identity/authentication/spi/AuthLoginException.html" title="class in com.sun.identity.authentication.spi">AuthLoginException</A></PRE>
<DL>
<DD>Returns service configuration attributes.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>name</CODE> - Requested service name
<DT><B>Returns:</B><DD>Map that contains all attribute key/value pairs defined in
         the service configuration.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../com/sun/identity/authentication/spi/AuthLoginException.html" title="class in com.sun.identity.authentication.spi">AuthLoginException</A></CODE> - if error in accessing the service schema.</DL>
</DD>
</DL>
<HR>

<A NAME="getUserProfile(java.lang.String)"><!-- --></A><H3>
getUserProfile</H3>
<PRE>
public <A HREF="../../../../../com/iplanet/am/sdk/AMUser.html" title="interface in com.iplanet.am.sdk">AMUser</A> <B>getUserProfile</B>(java.lang.String&nbsp;userDN)
                      throws <A HREF="../../../../../com/sun/identity/authentication/spi/AuthLoginException.html" title="class in com.sun.identity.authentication.spi">AuthLoginException</A></PRE>
<DL>
<DD><B>Deprecated.</B>&nbsp;<I>This method has been deprecated. Please use the
 IdRepo API's to get the AMIdentity object for the user. More
 information on how to use the Identity Repository APIs is
 available in the Access Manager Developer's Guide.</I>
<P>
<DD>Returns the user profile for the user specified. This
 method may only be called in the validate() method.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>userDN</CODE> - distinguished name os user.
<DT><B>Returns:</B><DD>AMUser object for the user's distinguished name.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../com/sun/identity/authentication/spi/AuthLoginException.html" title="class in com.sun.identity.authentication.spi">AuthLoginException</A></CODE> - if it fails to get the user profile for
 <code>userDN</code>.</DL>
</DD>
</DL>
<HR>

<A NAME="getUserSessionProperty(java.lang.String)"><!-- --></A><H3>
getUserSessionProperty</H3>
<PRE>
public java.lang.String <B>getUserSessionProperty</B>(java.lang.String&nbsp;name)
                                        throws <A HREF="../../../../../com/sun/identity/authentication/spi/AuthLoginException.html" title="class in com.sun.identity.authentication.spi">AuthLoginException</A></PRE>
<DL>
<DD>Returns the property from the user session.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>name</CODE> - The property name.
<DT><B>Returns:</B><DD>The property value.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../com/sun/identity/authentication/spi/AuthLoginException.html" title="class in com.sun.identity.authentication.spi">AuthLoginException</A></CODE> - if the user session is invalid.</DL>
</DD>
</DL>
<HR>

<A NAME="setUserSessionProperty(java.lang.String, java.lang.String)"><!-- --></A><H3>
setUserSessionProperty</H3>
<PRE>
public void <B>setUserSessionProperty</B>(java.lang.String&nbsp;name,
                                   java.lang.String&nbsp;value)
                            throws <A HREF="../../../../../com/sun/identity/authentication/spi/AuthLoginException.html" title="class in com.sun.identity.authentication.spi">AuthLoginException</A></PRE>
<DL>
<DD>Sets a property in the user session.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>name</CODE> - The property name.<DD><CODE>value</CODE> - The property value.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../com/sun/identity/authentication/spi/AuthLoginException.html" title="class in com.sun.identity.authentication.spi">AuthLoginException</A></CODE> - if the user session is invalid.</DL>
</DD>
</DL>
<HR>

<A NAME="getNewUserIDs(java.util.Map, int)"><!-- --></A><H3>
getNewUserIDs</H3>
<PRE>
public java.util.Set <B>getNewUserIDs</B>(java.util.Map&nbsp;attributes,
                                   int&nbsp;num)
                            throws <A HREF="../../../../../com/sun/identity/authentication/spi/AuthLoginException.html" title="class in com.sun.identity.authentication.spi">AuthLoginException</A></PRE>
<DL>
<DD>Returns a set of user IDs generated from the class defined
 in the Core Authentication Service. Returns null if the
 attribute <code>iplanet-am-auth-username-generator-enabled</code> is
 set to false.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>attributes</CODE> - the keys in the <code>Map</code> contains the
                   attribute names and their corresponding values in
                   the <code>Map</code> is a <code>Set</code> that
                   contains the values for the attribute<DD><CODE>num</CODE> - the maximum number of returned user IDs; 0 means there
            is no limit
<DT><B>Returns:</B><DD>a set of auto-generated user IDs
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../com/sun/identity/authentication/spi/AuthLoginException.html" title="class in com.sun.identity.authentication.spi">AuthLoginException</A></CODE> - if the class instantiation failed</DL>
</DD>
</DL>
<HR>

<A NAME="setLoginFailureURL(java.lang.String)"><!-- --></A><H3>
setLoginFailureURL</H3>
<PRE>
public void <B>setLoginFailureURL</B>(java.lang.String&nbsp;url)
                        throws <A HREF="../../../../../com/sun/identity/authentication/spi/AuthLoginException.html" title="class in com.sun.identity.authentication.spi">AuthLoginException</A></PRE>
<DL>
<DD>Sets the the login failure URL for the user. This method does not
 change the URL in the user's profile. When the user authenticates
 failed, this URL will be used by the authentication for the
 redirect.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>url</CODE> - URL to go when authentication failed
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../com/sun/identity/authentication/spi/AuthLoginException.html" title="class in com.sun.identity.authentication.spi">AuthLoginException</A></CODE> - if unable to set the URL</DL>
</DD>
</DL>
<HR>

<A NAME="setLoginSuccessURL(java.lang.String)"><!-- --></A><H3>
setLoginSuccessURL</H3>
<PRE>
public void <B>setLoginSuccessURL</B>(java.lang.String&nbsp;url)
                        throws <A HREF="../../../../../com/sun/identity/authentication/spi/AuthLoginException.html" title="class in com.sun.identity.authentication.spi">AuthLoginException</A></PRE>
<DL>
<DD>Sets the the login successful URL for the user. This method does not
 change the URL in the user's profile. When the user authenticates
 successfully, this URL will be used by the authentication for the
 redirect.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>url</CODE> - URL to go when authentication is successful
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../com/sun/identity/authentication/spi/AuthLoginException.html" title="class in com.sun.identity.authentication.spi">AuthLoginException</A></CODE> - if unable to set the URL</DL>
</DD>
</DL>
<HR>

<A NAME="isRequired(int, int)"><!-- --></A><H3>
isRequired</H3>
<PRE>
public boolean <B>isRequired</B>(int&nbsp;state,
                          int&nbsp;index)</PRE>
<DL>
<DD>Check if a Callback is required to have input
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>state</CODE> - Order of state<DD><CODE>index</CODE> - Order of the Callback in the Callback[], the index
     starts with 0.
<DT><B>Returns:</B><DD>true if the callback corresponding to the number in the
    specified state is required to have value, false otherwise</DL>
</DD>
</DL>
<HR>

<A NAME="getAttribute(int, int)"><!-- --></A><H3>
getAttribute</H3>
<PRE>
public java.lang.String <B>getAttribute</B>(int&nbsp;state,
                                     int&nbsp;index)</PRE>
<DL>
<DD>Get the attribute name for the specified callback in the
 specified login state
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>state</CODE> - Order of state<DD><CODE>index</CODE> - Order of the Callback in the Callback[], the index
    starts with 0.
<DT><B>Returns:</B><DD>String the name of the attribute, empty string will be returned
     if the attribute is not defined</DL>
</DD>
</DL>
<HR>

<A NAME="setFailureID(java.lang.String)"><!-- --></A><H3>
setFailureID</H3>
<PRE>
public void <B>setFailureID</B>(java.lang.String&nbsp;userID)</PRE>
<DL>
<DD>Sets the <code>userID</code> of user who failed authentication.
 This <code>userID</code> will be used to log failed authentication in
 the Access Manager error logs.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>userID</CODE> - user name of user who failed authentication.</DL>
</DD>
</DL>
<HR>

<A NAME="setUserAttributes(java.util.Map)"><!-- --></A><H3>
setUserAttributes</H3>
<PRE>
public void <B>setUserAttributes</B>(java.util.Map&nbsp;attributeValuePairs)</PRE>
<DL>
<DD>Sets a Map of attribute value pairs to be used when the authentication
 service is configured to dynamically create a user.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>attributeValuePairs</CODE> - A map containing the attributes
 and its values. The key is the attribute name and the value
 is a Set of values.</DL>
</DD>
</DL>
<HR>

<A NAME="validateUserName(java.lang.String, java.lang.String)"><!-- --></A><H3>
validateUserName</H3>
<PRE>
public void <B>validateUserName</B>(java.lang.String&nbsp;userName,
                             java.lang.String&nbsp;regEx)
                      throws <A HREF="../../../../../com/sun/identity/authentication/spi/UserNamePasswordValidationException.html" title="class in com.sun.identity.authentication.spi">UserNamePasswordValidationException</A></PRE>
<DL>
<DD>This method will use validation plugin if exists
 else it checks invalid characters in the source string
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>userName</CODE> - source string which should be validated<DD><CODE>regEx</CODE> - the pattern for which to search.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../com/sun/identity/authentication/spi/UserNamePasswordValidationException.html" title="class in com.sun.identity.authentication.spi">UserNamePasswordValidationException</A></CODE> - if user name is invalid.</DL>
</DD>
</DL>
<HR>

<A NAME="validatePassword(java.lang.String)"><!-- --></A><H3>
validatePassword</H3>
<PRE>
public void <B>validatePassword</B>(java.lang.String&nbsp;userPassword)
                      throws <A HREF="../../../../../com/sun/identity/authentication/spi/UserNamePasswordValidationException.html" title="class in com.sun.identity.authentication.spi">UserNamePasswordValidationException</A></PRE>
<DL>
<DD>This method will use validation plugin if exists to validate
 password
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>userPassword</CODE> - source string which should be validated.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../com/sun/identity/authentication/spi/UserNamePasswordValidationException.html" title="class in com.sun.identity.authentication.spi">UserNamePasswordValidationException</A></CODE> - if user password is invalid.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;<A HREF="../../../../../com/sun/identity/authentication/spi/HttpCallback.html" title="class in com.sun.identity.authentication.spi"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="AMLoginModule.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>

</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
<a href=../../../../../copyright.html target=_top>Copyright</a> 2006 Sun Microsystems, Inc. All rights reserved. Use is subject to license terms.
</BODY>
</HTML>
