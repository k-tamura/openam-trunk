<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.4.2_05) on Thu Jan 11 14:55:37 PST 2007 -->
<TITLE>
ProxyPolicyEvaluator (Sun Java System Access Manager 7.1 API)
</TITLE>

<META NAME="keywords" CONTENT="com.sun.identity.policy.ProxyPolicyEvaluator class">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="ProxyPolicyEvaluator (Sun Java System Access Manager 7.1 API)";
}
</SCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/sun/identity/policy/ProtectedResource.html" title="class in com.sun.identity.policy"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/sun/identity/policy/ProxyPolicyEvaluatorFactory.html" title="class in com.sun.identity.policy"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ProxyPolicyEvaluator.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>

</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.sun.identity.policy</FONT>
<BR>
Class ProxyPolicyEvaluator</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../resources/inherit.gif" ALT="extended by"><B>com.sun.identity.policy.ProxyPolicyEvaluator</B>
</PRE>
<HR>
<DL>
<DT>public class <B>ProxyPolicyEvaluator</B><DT>extends java.lang.Object</DL>

<P>
Class that lets a priviliged user to compute policy results for 
  another user.
 Only privileged users can get <code>ProxyPolicyEvaluator</code>
  - only top level administrator, top level policy administrator, 
 organization administrator or organization policy administrator can get
 <code>ProxyPolicyEvaluator</code>. Top level administrator can compute policy
 results for any user. Organization administrator or policy administrator can
 compute policy results only for users who are members of the organization
 (including sub organization) that they manage. If they try to compute policys
 result for any other user, they would get a <code>PolicyException</code>.
<P>

<P>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->


<!-- =========== FIELD SUMMARY =========== -->


<!-- ======== CONSTRUCTOR SUMMARY ======== -->


<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Method Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/sun/identity/policy/PolicyDecision.html" title="class in com.sun.identity.policy">PolicyDecision</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/sun/identity/policy/ProxyPolicyEvaluator.html#getPolicyDecision(java.lang.String, java.lang.String, java.util.Map)">getPolicyDecision</A></B>(java.lang.String&nbsp;principalName,
                  java.lang.String&nbsp;resourceName,
                  java.util.Map&nbsp;env)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets policy decision for the user identified by the
 <code>principalName</code> for the given resource</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/sun/identity/policy/PolicyDecision.html" title="class in com.sun.identity.policy">PolicyDecision</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/sun/identity/policy/ProxyPolicyEvaluator.html#getPolicyDecisionIgnoreSubjects(java.lang.String, java.util.Set, java.util.Map)">getPolicyDecisionIgnoreSubjects</A></B>(java.lang.String&nbsp;resourceName,
                                java.util.Set&nbsp;actionNames,
                                java.util.Map&nbsp;env)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets policy decision for a resource, skipping subject evaluation.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Set</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/sun/identity/policy/ProxyPolicyEvaluator.html#getProtectedResourcesIgnoreConditions(java.lang.String, java.lang.String)">getProtectedResourcesIgnoreConditions</A></B>(java.lang.String&nbsp;principalName,
                                      java.lang.String&nbsp;rootResource)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets protected resources for a user identified by the
 <code>principalName</code>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/sun/identity/policy/ProxyPolicyEvaluator.html#isAllowed(java.lang.String, java.lang.String, java.lang.String, java.util.Map)">isAllowed</A></B>(java.lang.String&nbsp;principalName,
          java.lang.String&nbsp;resourceName,
          java.lang.String&nbsp;actionName,
          java.util.Map&nbsp;env)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Evaluates a simple privilege of boolean type.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class java.lang.Object</B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->


<!-- ========= CONSTRUCTOR DETAIL ======== -->


<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Method Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="isAllowed(java.lang.String, java.lang.String, java.lang.String, java.util.Map)"><!-- --></A><H3>
isAllowed</H3>
<PRE>
public boolean <B>isAllowed</B>(java.lang.String&nbsp;principalName,
                         java.lang.String&nbsp;resourceName,
                         java.lang.String&nbsp;actionName,
                         java.util.Map&nbsp;env)
                  throws <A HREF="../../../../com/sun/identity/policy/PolicyException.html" title="class in com.sun.identity.policy">PolicyException</A>,
                         <A HREF="../../../../com/iplanet/sso/SSOException.html" title="class in com.iplanet.sso">SSOException</A></PRE>
<DL>
<DD>Evaluates a simple privilege of boolean type. The privilege indicates
 if the user identified by the <code>principalName</code> 
 can perform specified action on the specified resource.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>principalName</CODE> - principal name for whom to compute the privilege.<DD><CODE>resourceName</CODE> - name of the resource for which to compute 
                     policy result.<DD><CODE>actionName</CODE> - name of the action the user is trying to perform on
 the resource<DD><CODE>env</CODE> - run time environment parameters
<DT><B>Returns:</B><DD>the result of the evaluation as a boolean value
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../com/sun/identity/policy/PolicyException.html" title="class in com.sun.identity.policy">PolicyException</A></CODE> - exception form policy framework
<DD><CODE><A HREF="../../../../com/iplanet/sso/SSOException.html" title="class in com.iplanet.sso">SSOException</A></CODE> - if single sign on token is invalid</DL>
</DD>
</DL>
<HR>

<A NAME="getPolicyDecision(java.lang.String, java.lang.String, java.util.Map)"><!-- --></A><H3>
getPolicyDecision</H3>
<PRE>
public <A HREF="../../../../com/sun/identity/policy/PolicyDecision.html" title="class in com.sun.identity.policy">PolicyDecision</A> <B>getPolicyDecision</B>(java.lang.String&nbsp;principalName,
                                        java.lang.String&nbsp;resourceName,
                                        java.util.Map&nbsp;env)
                                 throws <A HREF="../../../../com/sun/identity/policy/PolicyException.html" title="class in com.sun.identity.policy">PolicyException</A>,
                                        <A HREF="../../../../com/iplanet/sso/SSOException.html" title="class in com.iplanet.sso">SSOException</A></PRE>
<DL>
<DD>Gets policy decision for the user identified by the
 <code>principalName</code> for the given resource
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>principalName</CODE> - principal name for whom to compute the policy 
                      decision<DD><CODE>resourceName</CODE> - name of the resource for which to compute policy 
                      decision<DD><CODE>env</CODE> - run time environment parameters
<DT><B>Returns:</B><DD>the policy decision for the principal for the given resource
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../com/sun/identity/policy/PolicyException.html" title="class in com.sun.identity.policy">PolicyException</A></CODE> - exception form policy framework
<DD><CODE><A HREF="../../../../com/iplanet/sso/SSOException.html" title="class in com.iplanet.sso">SSOException</A></CODE> - if single sign on token is invalid</DL>
</DD>
</DL>
<HR>

<A NAME="getPolicyDecisionIgnoreSubjects(java.lang.String, java.util.Set, java.util.Map)"><!-- --></A><H3>
getPolicyDecisionIgnoreSubjects</H3>
<PRE>
public <A HREF="../../../../com/sun/identity/policy/PolicyDecision.html" title="class in com.sun.identity.policy">PolicyDecision</A> <B>getPolicyDecisionIgnoreSubjects</B>(java.lang.String&nbsp;resourceName,
                                                      java.util.Set&nbsp;actionNames,
                                                      java.util.Map&nbsp;env)
                                               throws <A HREF="../../../../com/sun/identity/policy/PolicyException.html" title="class in com.sun.identity.policy">PolicyException</A>,
                                                      <A HREF="../../../../com/iplanet/sso/SSOException.html" title="class in com.iplanet.sso">SSOException</A></PRE>
<DL>
<DD>Gets policy decision for a resource, skipping subject evaluation. 
 Conditions would be evaluated and would include applicable advices 
 in policy decisions. Hence, you could get details such as
 <code>AuthLevel</code>, <code>AuthScheme</code> that would be required to
 access the resource.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>resourceName</CODE> - name of the resource for which to compute policy 
                      decision<DD><CODE>actionNames</CODE> - names of the actions the user is trying to perform on
                   the resource<DD><CODE>env</CODE> - run time environment parameters
<DT><B>Returns:</B><DD>the policy decision for the principal for the given resource
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../com/sun/identity/policy/PolicyException.html" title="class in com.sun.identity.policy">PolicyException</A></CODE> - exception form policy framework
<DD><CODE><A HREF="../../../../com/iplanet/sso/SSOException.html" title="class in com.iplanet.sso">SSOException</A></CODE> - if single sign on token is invalid</DL>
</DD>
</DL>
<HR>

<A NAME="getProtectedResourcesIgnoreConditions(java.lang.String, java.lang.String)"><!-- --></A><H3>
getProtectedResourcesIgnoreConditions</H3>
<PRE>
public java.util.Set <B>getProtectedResourcesIgnoreConditions</B>(java.lang.String&nbsp;principalName,
                                                           java.lang.String&nbsp;rootResource)
                                                    throws <A HREF="../../../../com/sun/identity/policy/PolicyException.html" title="class in com.sun.identity.policy">PolicyException</A>,
                                                           <A HREF="../../../../com/iplanet/sso/SSOException.html" title="class in com.iplanet.sso">SSOException</A></PRE>
<DL>
<DD>Gets protected resources for a user identified by the
 <code>principalName</code>.  Conditions defined  in the policies are
 ignored while computing protected resources. 
 Only resources that are  sub resources of the  given 
 <code>rootResource</code> or equal to the given <code>rootResource</code>
 would be returned.
 If all policies applicable to a resource are 
 only referral policies, no <code>ProtectedResource</code> would be
 returned for such a resource.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>principalName</CODE> - principal name for whom to compute the privilege.<DD><CODE>rootResource</CODE> - only resources that are sub resources of the  
                      given <code>rootResource</code> or equal to the
                      given <code>rootResource</code> would be returned.
                      If <code>PolicyEvaluator.ALL_RESOURCES</code> is 
                      passed as <code>rootResource</code>, resources under
                      all root  resources of the service 
                      type are considered while computing protected 
                      resources.
<DT><B>Returns:</B><DD>set of protected resources. The set contains
         <code>ProtectedResource</code> objects.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../com/sun/identity/policy/PolicyException.html" title="class in com.sun.identity.policy">PolicyException</A></CODE> - exception form policy framework
<DD><CODE><A HREF="../../../../com/iplanet/sso/SSOException.html" title="class in com.iplanet.sso">SSOException</A></CODE> - if single sign on token is invalid<DT><B>See Also:</B><DD><A HREF="../../../../com/sun/identity/policy/ProtectedResource.html" title="class in com.sun.identity.policy"><CODE>ProtectedResource</CODE></A></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/sun/identity/policy/ProtectedResource.html" title="class in com.sun.identity.policy"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/sun/identity/policy/ProxyPolicyEvaluatorFactory.html" title="class in com.sun.identity.policy"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ProxyPolicyEvaluator.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>

</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
<a href=../../../../copyright.html target=_top>Copyright</a> 2006 Sun Microsystems, Inc. All rights reserved. Use is subject to license terms.
</BODY>
</HTML>
