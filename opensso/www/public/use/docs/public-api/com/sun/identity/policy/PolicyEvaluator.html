<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.4.2_05) on Thu Jan 11 14:55:37 PST 2007 -->
<TITLE>
PolicyEvaluator (Sun Java System Access Manager 7.1 API)
</TITLE>

<META NAME="keywords" CONTENT="com.sun.identity.policy.PolicyEvaluator class">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="PolicyEvaluator (Sun Java System Access Manager 7.1 API)";
}
</SCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/sun/identity/policy/PolicyDecision.html" title="class in com.sun.identity.policy"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/sun/identity/policy/PolicyEvent.html" title="class in com.sun.identity.policy"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="PolicyEvaluator.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>

</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.sun.identity.policy</FONT>
<BR>
Class PolicyEvaluator</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../resources/inherit.gif" ALT="extended by"><B>com.sun.identity.policy.PolicyEvaluator</B>
</PRE>
<HR>
<DL>
<DT>public class <B>PolicyEvaluator</B><DT>extends java.lang.Object</DL>

<P>
The class <code>PolicyEvaluator</code> evaluates policies
 and provides policy decisions.
<P>

<P>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->


<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Field Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/sun/identity/policy/PolicyEvaluator.html#ALL_RESOURCES">ALL_RESOURCES</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Constant used to identity all the resources of a service type.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/sun/identity/policy/PolicyEvaluator.html#EMPTY_RESOURCE_NAME">EMPTY_RESOURCE_NAME</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Constant used to identity empty resource</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../com/sun/identity/policy/PolicyEvaluator.html#PolicyEvaluator(java.lang.String)">PolicyEvaluator</A></B>(java.lang.String&nbsp;serviceTypeName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Constructor to create a <code>PolicyEvaluator</code> given the service
 type name.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Method Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/sun/identity/policy/PolicyEvaluator.html#addPolicyListener(com.sun.identity.policy.interfaces.PolicyListener)">addPolicyListener</A></B>(<A HREF="../../../../com/sun/identity/policy/interfaces/PolicyListener.html" title="interface in com.sun.identity.policy.interfaces">PolicyListener</A>&nbsp;policyListener)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds a policy listener that would be notified whenever a policy
  is added, removed or changed</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/sun/identity/policy/PolicyDecision.html" title="class in com.sun.identity.policy">PolicyDecision</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/sun/identity/policy/PolicyEvaluator.html#getPolicyDecision(com.iplanet.sso.SSOToken, java.lang.String, java.util.Set, java.util.Map)">getPolicyDecision</A></B>(<A HREF="../../../../com/iplanet/sso/SSOToken.html" title="interface in com.iplanet.sso">SSOToken</A>&nbsp;token,
                  java.lang.String&nbsp;resourceName,
                  java.util.Set&nbsp;actionNames,
                  java.util.Map&nbsp;envParameters)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Evaluates privileges of the user to perform the specified actions
 the the specified resource.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Set</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/sun/identity/policy/PolicyEvaluator.html#getProtectedResourcesIgnoreConditions(com.iplanet.sso.SSOToken, java.lang.String)">getProtectedResourcesIgnoreConditions</A></B>(<A HREF="../../../../com/iplanet/sso/SSOToken.html" title="interface in com.iplanet.sso">SSOToken</A>&nbsp;token,
                                      java.lang.String&nbsp;rootResource)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets protected resources for a user identified by single sign on token
 Conditions defined  in the policies are ignored while 
 computing protected resources.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/sun/identity/policy/ResourceResult.html" title="class in com.sun.identity.policy">ResourceResult</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/sun/identity/policy/PolicyEvaluator.html#getResourceResult(com.iplanet.sso.SSOToken, java.lang.String, java.lang.String, java.util.Map)">getResourceResult</A></B>(<A HREF="../../../../com/iplanet/sso/SSOToken.html" title="interface in com.iplanet.sso">SSOToken</A>&nbsp;token,
                  java.lang.String&nbsp;resourceName,
                  java.lang.String&nbsp;scope,
                  java.util.Map&nbsp;envParameters)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>Deprecated.</B>&nbsp;<I>Use <code>getResourceResults()</code></I></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Set</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/sun/identity/policy/PolicyEvaluator.html#getResourceResults(com.iplanet.sso.SSOToken, java.lang.String, java.lang.String, java.util.Map)">getResourceResults</A></B>(<A HREF="../../../../com/iplanet/sso/SSOToken.html" title="interface in com.iplanet.sso">SSOToken</A>&nbsp;token,
                   java.lang.String&nbsp;resourceName,
                   java.lang.String&nbsp;scope,
                   java.util.Map&nbsp;envParameters)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets resource result objects given a resource name.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/sun/identity/policy/PolicyEvaluator.html#isAllowed(com.iplanet.sso.SSOToken, java.lang.String, java.lang.String, java.util.Map)">isAllowed</A></B>(<A HREF="../../../../com/iplanet/sso/SSOToken.html" title="interface in com.iplanet.sso">SSOToken</A>&nbsp;token,
          java.lang.String&nbsp;resourceName,
          java.lang.String&nbsp;actionName,
          java.util.Map&nbsp;envParameters)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Evaluates simple privileges of boolean type.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/sun/identity/policy/PolicyEvaluator.html#removePolicyListener(com.sun.identity.policy.interfaces.PolicyListener)">removePolicyListener</A></B>(<A HREF="../../../../com/sun/identity/policy/interfaces/PolicyListener.html" title="interface in com.sun.identity.policy.interfaces">PolicyListener</A>&nbsp;policyListener)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Removes a policy listener that was previously registered 
  to receive notifications whenever a policy is added, removed
  or changed.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class java.lang.Object</B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Field Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="ALL_RESOURCES"><!-- --></A><H3>
ALL_RESOURCES</H3>
<PRE>
public static final java.lang.String <B>ALL_RESOURCES</B></PRE>
<DL>
<DD>Constant used to identity all the resources of a service type. 
 The resources include the sub resources of all resource prefixes of 
 resource type
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../constant-values.html#com.sun.identity.policy.PolicyEvaluator.ALL_RESOURCES">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="EMPTY_RESOURCE_NAME"><!-- --></A><H3>
EMPTY_RESOURCE_NAME</H3>
<PRE>
public static final java.lang.String <B>EMPTY_RESOURCE_NAME</B></PRE>
<DL>
<DD>Constant used to identity empty resource
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../constant-values.html#com.sun.identity.policy.PolicyEvaluator.EMPTY_RESOURCE_NAME">Constant Field Values</A></DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="PolicyEvaluator(java.lang.String)"><!-- --></A><H3>
PolicyEvaluator</H3>
<PRE>
public <B>PolicyEvaluator</B>(java.lang.String&nbsp;serviceTypeName)
                throws <A HREF="../../../../com/iplanet/sso/SSOException.html" title="class in com.iplanet.sso">SSOException</A>,
                       <A HREF="../../../../com/sun/identity/policy/NameNotFoundException.html" title="class in com.sun.identity.policy">NameNotFoundException</A>,
                       <A HREF="../../../../com/sun/identity/policy/PolicyException.html" title="class in com.sun.identity.policy">PolicyException</A></PRE>
<DL>
<DD>Constructor to create a <code>PolicyEvaluator</code> given the service
 type name.
<P>
<DT><B>Parameters:</B><DD><CODE>serviceTypeName</CODE> - the name of the service type for which this
 evaluator can be used for
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../com/iplanet/sso/SSOException.html" title="class in com.iplanet.sso">SSOException</A></CODE> - if <code>SSOToken</code> used by
                      <code>PolicyEvaluator</code> is invalid
<DD><CODE><A HREF="../../../../com/sun/identity/policy/NameNotFoundException.html" title="class in com.sun.identity.policy">NameNotFoundException</A></CODE> - if the service with name 
                      <code>serviceTypeName</code> is not found
<DD><CODE><A HREF="../../../../com/sun/identity/policy/PolicyException.html" title="class in com.sun.identity.policy">PolicyException</A></CODE> - for any other abnormal condition</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Method Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="isAllowed(com.iplanet.sso.SSOToken, java.lang.String, java.lang.String, java.util.Map)"><!-- --></A><H3>
isAllowed</H3>
<PRE>
public boolean <B>isAllowed</B>(<A HREF="../../../../com/iplanet/sso/SSOToken.html" title="interface in com.iplanet.sso">SSOToken</A>&nbsp;token,
                         java.lang.String&nbsp;resourceName,
                         java.lang.String&nbsp;actionName,
                         java.util.Map&nbsp;envParameters)
                  throws <A HREF="../../../../com/iplanet/sso/SSOException.html" title="class in com.iplanet.sso">SSOException</A>,
                         <A HREF="../../../../com/sun/identity/policy/PolicyException.html" title="class in com.sun.identity.policy">PolicyException</A></PRE>
<DL>
<DD>Evaluates simple privileges of boolean type. The privilege indicate
 if the user can perform specified action on the specified resource.
 The evaluation depends on user's application environment parameters.
 Invoking this method would result in <code>PolicyException</code>,
 if the syntax for the <code>actionName</code> is not declared to be
 boolean, in the service schema.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>token</CODE> - single sign on token of the user evaluating policies<DD><CODE>resourceName</CODE> - name of the resource the user is trying to access<DD><CODE>actionName</CODE> - name of the action the user is trying to perform on
 the resource<DD><CODE>envParameters</CODE> - run-time environment parameters
<DT><B>Returns:</B><DD>the result of the evaluation as a boolean value
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../com/iplanet/sso/SSOException.html" title="class in com.iplanet.sso">SSOException</A></CODE> - single-sign-on token invalid or expired
<DD><CODE><A HREF="../../../../com/sun/identity/policy/PolicyException.html" title="class in com.sun.identity.policy">PolicyException</A></CODE> - for any other abnormal condition</DL>
</DD>
</DL>
<HR>

<A NAME="getPolicyDecision(com.iplanet.sso.SSOToken, java.lang.String, java.util.Set, java.util.Map)"><!-- --></A><H3>
getPolicyDecision</H3>
<PRE>
public <A HREF="../../../../com/sun/identity/policy/PolicyDecision.html" title="class in com.sun.identity.policy">PolicyDecision</A> <B>getPolicyDecision</B>(<A HREF="../../../../com/iplanet/sso/SSOToken.html" title="interface in com.iplanet.sso">SSOToken</A>&nbsp;token,
                                        java.lang.String&nbsp;resourceName,
                                        java.util.Set&nbsp;actionNames,
                                        java.util.Map&nbsp;envParameters)
                                 throws <A HREF="../../../../com/iplanet/sso/SSOException.html" title="class in com.iplanet.sso">SSOException</A>,
                                        <A HREF="../../../../com/sun/identity/policy/PolicyException.html" title="class in com.sun.identity.policy">PolicyException</A></PRE>
<DL>
<DD>Evaluates privileges of the user to perform the specified actions
 the the specified resource. The evaluation depends on user's
 application environment parameters.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>token</CODE> - single sign on token of the user evaluating policies<DD><CODE>resourceName</CODE> - name of the resource the user is trying to access<DD><CODE>actionNames</CODE> - name of the action the user is trying to perform on
 the resource<DD><CODE>envParameters</CODE> - run-time environment parameters
<DT><B>Returns:</B><DD>policy decision
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../com/iplanet/sso/SSOException.html" title="class in com.iplanet.sso">SSOException</A></CODE> - single-sign-on token invalid or expired
<DD><CODE><A HREF="../../../../com/sun/identity/policy/PolicyException.html" title="class in com.sun.identity.policy">PolicyException</A></CODE> - for any other abnormal condition</DL>
</DD>
</DL>
<HR>

<A NAME="getProtectedResourcesIgnoreConditions(com.iplanet.sso.SSOToken, java.lang.String)"><!-- --></A><H3>
getProtectedResourcesIgnoreConditions</H3>
<PRE>
public java.util.Set <B>getProtectedResourcesIgnoreConditions</B>(<A HREF="../../../../com/iplanet/sso/SSOToken.html" title="interface in com.iplanet.sso">SSOToken</A>&nbsp;token,
                                                           java.lang.String&nbsp;rootResource)
                                                    throws <A HREF="../../../../com/iplanet/sso/SSOException.html" title="class in com.iplanet.sso">SSOException</A>,
                                                           <A HREF="../../../../com/sun/identity/policy/PolicyException.html" title="class in com.sun.identity.policy">PolicyException</A></PRE>
<DL>
<DD>Gets protected resources for a user identified by single sign on token
 Conditions defined  in the policies are ignored while 
 computing protected resources. 
 Only resources that are sub resources of the  given 
 <code>rootResource</code> or equal to the given <code>rootResource</code>
 would be returned. 
 If all policies applicable to a resource are 
 only referral policies, no <code>ProtectedResource</code> would be
 returned for such a resource.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>token</CODE> - single sign on token of the user<DD><CODE>rootResource</CODE> - only resources that are sub resources of the  
                      given <code>rootResource</code> or equal to the
                      given <code>rootResource</code> would be returned
                      <code>rootResource</code> would be returned.
                      If <code>PolicyEvaluator.ALL_RESOURCES</code> is 
                      passed as <code>rootResource</code>, resources under
                      all root  resources of the service 
                      type are considered while computing protected 
                      resources.
<DT><B>Returns:</B><DD>set of protected resources. The set contains
         <code>ProtectedResource</code> objects.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../com/iplanet/sso/SSOException.html" title="class in com.iplanet.sso">SSOException</A></CODE> - if single sign on token is invalid
<DD><CODE><A HREF="../../../../com/sun/identity/policy/PolicyException.html" title="class in com.sun.identity.policy">PolicyException</A></CODE> - for any other abnormal condition<DT><B>See Also:</B><DD><A HREF="../../../../com/sun/identity/policy/ProtectedResource.html" title="class in com.sun.identity.policy"><CODE>ProtectedResource</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="getResourceResults(com.iplanet.sso.SSOToken, java.lang.String, java.lang.String, java.util.Map)"><!-- --></A><H3>
getResourceResults</H3>
<PRE>
public java.util.Set <B>getResourceResults</B>(<A HREF="../../../../com/iplanet/sso/SSOToken.html" title="interface in com.iplanet.sso">SSOToken</A>&nbsp;token,
                                        java.lang.String&nbsp;resourceName,
                                        java.lang.String&nbsp;scope,
                                        java.util.Map&nbsp;envParameters)
                                 throws <A HREF="../../../../com/iplanet/sso/SSOException.html" title="class in com.iplanet.sso">SSOException</A>,
                                        <A HREF="../../../../com/sun/identity/policy/PolicyException.html" title="class in com.sun.identity.policy">PolicyException</A></PRE>
<DL>
<DD>Gets resource result objects given a resource name. The set
 contains <code>ResourceResult</code> objects for all resources 
 that would affect policy decisions for any resource associated with the 
 argument resource name. To determine whether to include the
 <code>ResourceResult</code> of a resource,  we compare argument resource
 name and policy resource name, treating wild characters in the policy 
 resource name as wild. If the comparison resulted in
 <code>EXACT_MATCH</code>, <code>WILD_CARD_MACTH</code> or
 <code>SUB_RESOURCE_MACTH</code>, the resource result would be
 included.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>token</CODE> - single sign on token of the user evaluating policies<DD><CODE>resourceName</CODE> - name of the resource<DD><CODE>scope</CODE> - indicates whether to compute the resource result based on
              the policy decision for only the <code>resourceName</code>
              or all the resources associated with the resource name.
              The valid scope values are:
              <ul>
              <li><code>ResourceResult.SUBTREE_SCOPE</code>
              <li><code>ResourceResult.STRICT_SUBTREE_SCOPE</code>
              <li><code>ResourceResult.SELF_SCOPE</code>
              <ul>
              If the scope is <code>ResourceResult.SUBTREE_SCOPE</code>,
              the method will return a set of <code>ResourceResult</code>
              objects, one of them for the <code>resourceName</code> and
              its sub resources; the others are for resources that match
              the <code>resourceName</code> by wildcard. If the scope is
              <code>ResourceResult.STRICT_SUBTREE_SCOPE</code>, the 
              method will return a set object that contains one 
              <code>ResourceResult</code> object. The
              <code>ResourceResult</code> contains the policy decisions
              regarding the <code>resourceName</code> and its sub
              resources. If the scope is
              <code>ResourceResult.SELF_SCOPE</code>, the method will
              return a set object that contains one
              <code>ResourceResult</code> object.
              The <code>ResourceResult</code> contains the policy decision
              regarding the <code>resourceName</code> only.<DD><CODE>envParameters</CODE> - run-time environment parameters
<DT><B>Returns:</B><DD>set of <code>ResourceResult</code> objects
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../com/iplanet/sso/SSOException.html" title="class in com.iplanet.sso">SSOException</A></CODE> - if <code>token</code> is invalid
<DD><CODE><A HREF="../../../../com/sun/identity/policy/PolicyException.html" title="class in com.sun.identity.policy">PolicyException</A></CODE> - for any other abnormal condition<DT><B>See Also:</B><DD><A HREF="../../../../com/sun/identity/policy/ResourceMatch.html#EXACT_MATCH"><CODE>ResourceMatch.EXACT_MATCH</CODE></A>, 
<A HREF="../../../../com/sun/identity/policy/ResourceMatch.html#SUB_RESOURCE_MATCH"><CODE>ResourceMatch.SUB_RESOURCE_MATCH</CODE></A>, 
<A HREF="../../../../com/sun/identity/policy/ResourceMatch.html#WILDCARD_MATCH"><CODE>ResourceMatch.WILDCARD_MATCH</CODE></A>, 
<A HREF="../../../../com/sun/identity/policy/ResourceResult.html#SUBTREE_SCOPE"><CODE>ResourceResult.SUBTREE_SCOPE</CODE></A>, 
<A HREF="../../../../com/sun/identity/policy/ResourceResult.html#STRICT_SUBTREE_SCOPE"><CODE>ResourceResult.STRICT_SUBTREE_SCOPE</CODE></A>, 
<A HREF="../../../../com/sun/identity/policy/ResourceResult.html#SELF_SCOPE"><CODE>ResourceResult.SELF_SCOPE</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="getResourceResult(com.iplanet.sso.SSOToken, java.lang.String, java.lang.String, java.util.Map)"><!-- --></A><H3>
getResourceResult</H3>
<PRE>
public <A HREF="../../../../com/sun/identity/policy/ResourceResult.html" title="class in com.sun.identity.policy">ResourceResult</A> <B>getResourceResult</B>(<A HREF="../../../../com/iplanet/sso/SSOToken.html" title="interface in com.iplanet.sso">SSOToken</A>&nbsp;token,
                                        java.lang.String&nbsp;resourceName,
                                        java.lang.String&nbsp;scope,
                                        java.util.Map&nbsp;envParameters)
                                 throws <A HREF="../../../../com/iplanet/sso/SSOException.html" title="class in com.iplanet.sso">SSOException</A>,
                                        <A HREF="../../../../com/sun/identity/policy/PolicyException.html" title="class in com.sun.identity.policy">PolicyException</A></PRE>
<DL>
<DD><B>Deprecated.</B>&nbsp;<I>Use <code>getResourceResults()</code></I>
<P>
<DD>Gets resource result given a resource name. <code>ResourceResult</code>
 is a tree representation of policy decisions for all resources rooted 
 at the resource name.
 To determine whether a resource defined in the policy
 is a sub resource of argument resource name, argument resource name 
 and policy resource name are compared, treating wild characters as 
 literals. If comparison resulted in <code>EXACT_MACTH</code> or
 <code>SUB_RESOURCE_MACTH</code>, the resource would be included
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>token</CODE> - single sign on token of the user evaluating policies<DD><CODE>resourceName</CODE> - name of the resource<DD><CODE>scope</CODE> - indicates whether to compute the resource result based on
              the policy decision for only the <code>resourceName</code>
              or all the resources associated with the resource name.
              The valid scope values are:
              <ul>
              <li><code>ResourceResult.SUBTREE_SCOPE</code>
              <li><code>ResourceResult.STRICT_SUBTREE_SCOPE</code>
              <li><code>ResourceResult.SELF_SCOPE</code>
              </ul>
              If the scope is <code>ResourceResult.SUBTREE_SCOPE</code> or
              <code>ResourceResult.STRICT_SUBTREE_SCOPE</code>, the method
              will return a <code>ResourceResult</code> object that
              contains the policy decisions regarding the
              <code>resourceName</code> and its sub resources.
              If the scope is <code>ResourceResult.SELF_SCOPE</code>, the
              method will return a <code>ResourceResult</code> object that
              contains the policy decision regarding the
              <code>resourceName</code> only. Note, scope values
              <code>ResourceResult.SUBTREE_SCOPE</code> and
              <code>ResourceResult.STRICT_SUBTREE_SCOPE</code> are being
              treated as the same for backword compatibility reasons. This
              method is being deprecated. The method
              <code>getResourceResults()</code> should be used instead.<DD><CODE>envParameters</CODE> - run-time environment parameters
<DT><B>Returns:</B><DD><code>ResourceResult</code>.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../com/iplanet/sso/SSOException.html" title="class in com.iplanet.sso">SSOException</A></CODE> - if <code>token</code> is invalid
<DD><CODE><A HREF="../../../../com/sun/identity/policy/PolicyException.html" title="class in com.sun.identity.policy">PolicyException</A></CODE> - for any other abnormal condition<DT><B>See Also:</B><DD><A HREF="../../../../com/sun/identity/policy/ResourceMatch.html#EXACT_MATCH"><CODE>ResourceMatch.EXACT_MATCH</CODE></A>, 
<A HREF="../../../../com/sun/identity/policy/ResourceMatch.html#SUB_RESOURCE_MATCH"><CODE>ResourceMatch.SUB_RESOURCE_MATCH</CODE></A>, 
<A HREF="../../../../com/sun/identity/policy/ResourceMatch.html#WILDCARD_MATCH"><CODE>ResourceMatch.WILDCARD_MATCH</CODE></A>, 
<A HREF="../../../../com/sun/identity/policy/ResourceResult.html#SUBTREE_SCOPE"><CODE>ResourceResult.SUBTREE_SCOPE</CODE></A>, 
<A HREF="../../../../com/sun/identity/policy/ResourceResult.html#STRICT_SUBTREE_SCOPE"><CODE>ResourceResult.STRICT_SUBTREE_SCOPE</CODE></A>, 
<A HREF="../../../../com/sun/identity/policy/ResourceResult.html#SELF_SCOPE"><CODE>ResourceResult.SELF_SCOPE</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="addPolicyListener(com.sun.identity.policy.interfaces.PolicyListener)"><!-- --></A><H3>
addPolicyListener</H3>
<PRE>
public void <B>addPolicyListener</B>(<A HREF="../../../../com/sun/identity/policy/interfaces/PolicyListener.html" title="interface in com.sun.identity.policy.interfaces">PolicyListener</A>&nbsp;policyListener)</PRE>
<DL>
<DD>Adds a policy listener that would be notified whenever a policy
  is added, removed or changed
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>policyListener</CODE> - the listener to be added</DL>
</DD>
</DL>
<HR>

<A NAME="removePolicyListener(com.sun.identity.policy.interfaces.PolicyListener)"><!-- --></A><H3>
removePolicyListener</H3>
<PRE>
public void <B>removePolicyListener</B>(<A HREF="../../../../com/sun/identity/policy/interfaces/PolicyListener.html" title="interface in com.sun.identity.policy.interfaces">PolicyListener</A>&nbsp;policyListener)</PRE>
<DL>
<DD>Removes a policy listener that was previously registered 
  to receive notifications whenever a policy is added, removed
  or changed. It is not an error to attempt to remove a listener
  that was not registered. It would return silently.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>policyListener</CODE> - the listener to be removed</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/sun/identity/policy/PolicyDecision.html" title="class in com.sun.identity.policy"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/sun/identity/policy/PolicyEvent.html" title="class in com.sun.identity.policy"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="PolicyEvaluator.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>

</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
<a href=../../../../copyright.html target=_top>Copyright</a> 2006 Sun Microsystems, Inc. All rights reserved. Use is subject to license terms.
</BODY>
</HTML>
